version: 2

models:
  - name: silver__usdt_fungible_ownership
    description: |
      Joins USDT fungible stores with their owners, connecting object ownership with USDT tokens
      for comprehensive tracking. This model provides a complete view of USDT token ownership
      by linking store metadata with owner information.
    
    columns:
      - name: ownership_timestamp
        description: Timestamp when the ownership was last changed
        tests:
          - not_null
      
      - name: ownership_date
        description: Date when the ownership was last changed
        tests:
          - not_null
      
      - name: ownership_block
        description: Block number of the last ownership change
        tests:
          - not_null
      
      - name: ownership_tx_hash
        description: Transaction hash of the last ownership change
        tests:
          - not_null
      
      - name: store_address
        description: Address of the USDT store
        tests:
          - not_null
          - unique
      
      - name: owner_address
        description: Current owner of the USDT store
        tests:
          - not_null
      
      - name: metadata_address
        description: Metadata address of the USDT token
        tests:
          - not_null
      
      - name: store_metadata_block
        description: Block number when the store metadata was created/updated
        tests:
          - not_null
      
      - name: store_creation_tx_hash
        description: Transaction hash that created/updated the store
        tests:
          - not_null
      
      - name: is_usdt
        description: Flag indicating if the store contains USDT tokens
        tests:
          - not_null
          - accepted_values:
              values: [true]
      
      - name: _inserted_timestamp
        description: Timestamp when the record was inserted into the table
        tests:
          - not_null 
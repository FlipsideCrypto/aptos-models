version: 2

models:
  - name: silver__fungiblestore_usdt
    description: |
      Identifies and tracks fungible stores that contain USDT tokens.
      This model filters and processes fungible asset stores, specifically identifying those
      containing USDT tokens using the USDT metadata address.
      The model processes data from the last 30 days and maintains incremental updates.
    
    columns:
      - name: block_timestamp
        description: Timestamp of the block when the store was created/updated
        tests:
          - not_null
      
      - name: block_date
        description: Date of the block when the store was created/updated
        tests:
          - not_null
      
      - name: block_number
        description: Block number of the store creation/update
        tests:
          - not_null
      
      - name: tx_hash
        description: Transaction hash of the store creation/update
        tests:
          - not_null
      
      - name: store_address
        description: Address of the fungible store
        tests:
          - not_null
          - unique
      
      - name: metadata_address
        description: Metadata address of the token in the store
        tests:
          - not_null
      
      - name: is_usdt
        description: Flag indicating if the store contains USDT tokens
        tests:
          - not_null
          - accepted_values:
              values: [true, false]
      
      - name: _inserted_timestamp
        description: Timestamp when the record was inserted into the table
        tests:
          - not_null 